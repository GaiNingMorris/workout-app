<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NeuroLink Desktop - Muscle building workout app for age 50+ with TRX and dumbbell exercises">
    <meta name="author" content="NeuroLink">
    
    <title>NeuroLink Desktop - Muscle Building Workouts</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="app.js" as="script">
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Prevent FOUC (Flash of Unstyled Content) -->
    <style>
        #app { opacity: 0; transition: opacity 0.3s ease-in; }
        #app.loaded { opacity: 1; }
        .loading { 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            height: 100vh; 
            color: #dbe9ff; 
            font-family: system-ui; 
        }
    </style>
</head>
<body>
    <!-- Loading indicator -->
    <div id="loading" class="loading">
        <div>Loading NeuroLink...</div>
    </div>
    
    <!-- Main app container -->
    <div id="app" aria-label="NeuroLink Desktop Application">
        <!-- App content will be rendered here -->
    </div>
    
    <!-- Scripts -->
    <script src="app.js"></script>
    
    <!-- Initialize app and handle loading states -->
    <script>
        // Handle loading state
        document.addEventListener('DOMContentLoaded', function() {
            const loading = document.getElementById('loading');
            const app = document.getElementById('app');
            
            // Hide loading indicator and show app
            setTimeout(function() {
                if (loading) loading.style.display = 'none';
                if (app) app.classList.add('loaded');
            }, 100);
        });
        
        // Global error handler for better user experience
        window.addEventListener('error', function(e) {
            console.error('Global error:', e.error);
            const app = document.getElementById('app');
            if (app && !app.innerHTML.includes('Critical Error')) {
                app.innerHTML = `
                    <div style="padding: 20px; text-align: center; color: #dbe9ff;">
                        <h2>⚠️ Critical Error</h2>
                        <p>The application encountered an error and needs to restart.</p>
                        <button onclick="location.reload()" style="padding: 10px 20px; margin-top: 10px; background: #66b3ff; border: none; border-radius: 8px; color: white; cursor: pointer;">
                            Restart App
                        </button>
                        <details style="margin-top: 20px; text-align: left;">
                            <summary>Technical Details</summary>
                            <pre style="background: #0f1b2d; padding: 10px; border-radius: 8px; margin-top: 10px; font-size: 12px; overflow: auto;">${e.error ? e.error.stack : e.message}</pre>
                        </details>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>